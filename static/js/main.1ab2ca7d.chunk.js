(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{30:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var s,n,a=c(25),r=c.n(a),i=c(3),o=c(6),l=c(4),u=c(1),j=(c(30),c(11)),d=c.n(j),b=c(16),h=c(8),p=c(7),O=c(5),m=c.n(O),x="https://mate-academy.github.io/react_phone-catalog/api/products.json";function f(){return v.apply(this,arguments)}function v(){return(v=Object(p.a)(m.a.mark((function e(){var t,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(x);case 3:return t=e.sent,c=t.json(),e.next=7,c;case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function _(e){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(m.a.mark((function e(t){var c,s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,1e3)}));case 3:return e.next=5,fetch(x);case 5:return c=e.sent,e.next=8,c.json();case 8:return s=e.sent,n=s.filter((function(e){return e.type===t})),e.abrupt("return",n);case 13:throw e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function N(){return(N=Object(p.a)(m.a.mark((function e(t){var c,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,1e3)}));case 3:return e.next=5,fetch("https://mate-academy.github.io/react_phone-catalog/api/products/".concat(t,".json"));case 5:return c=e.sent,e.next=8,c.json();case 8:return s=e.sent,e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(0),console.error("An error occurred:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function C(){return(C=Object(p.a)(m.a.mark((function e(){var t,c,s,n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(x);case 3:return t=e.sent,e.next=6,t.json();case 6:for(c=e.sent,s=Object(h.a)(c),n=s.length-1;n>0;n-=1)a=Math.floor(Math.random()*(n+1)),r=[s[a],s[n]],s[n]=r[0],s[a]=r[1];return e.abrupt("return",s);case 12:throw e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function y(e,t){f().then((function(c){var s=c.find((function(t){return t.id===e})),n=Object(b.a)({amount:1},s),a=localStorage.getItem(t),r=a?JSON.parse(a):{};r[e]?(delete r[e],localStorage.setItem(t,JSON.stringify(r))):(r[e]=n,localStorage.setItem(t,JSON.stringify(r)))}))}function w(e,t){return JSON.stringify(localStorage.getItem(t)).includes(e)}!function(e){e.PHONE="phone",e.TABLET="tablet",e.ACCESSORY="accessory"}(s||(s={})),function(e){e.FAVORITES="favorites",e.CART="cart"}(n||(n={}));var S=c(0),A=function(e){var t=e.isActive;return d()("nav__link",{"is-active":t})},P=function(e){var t=e.isActive;return"shopping-icon".concat(d()({"--is-active":t}))},E=function(e){var t=e.setSearchQuery,c=e.currentProduct,s=e.searchQuery,a=Object(l.m)(),r=function(){return a.pathname.includes("shopping-cart")?{visibility:"hidden"}:{visibility:"visible"}},j=localStorage.getItem(n.CART),d=localStorage.getItem(n.FAVORITES),b=j?Object.keys(JSON.parse(j)):[],h=d?Object.keys(JSON.parse(d)):[],p=Object(o.d)(""),O=Object(i.a)(p,2),m=O[0],x=O[1];return Object(u.useEffect)((function(){var e=new URLSearchParams(m);s?e.set("search",s):e.delete("search"),x(e)}),[s]),Object(S.jsxs)("header",{className:"header",children:[Object(S.jsx)(o.b,{to:"/",className:"header__home-link home-link"}),Object(S.jsxs)("div",{className:"header__wrapper",children:[Object(S.jsx)("nav",{className:"header__nav nav",style:r(),children:Object(S.jsxs)("ul",{className:"nav__list",children:[Object(S.jsx)("li",{className:"nav__item",children:Object(S.jsx)(o.c,{className:function(e){var t=e.isActive;return A({isActive:t})},to:"/",children:"Home"})}),Object(S.jsx)("li",{className:"nav__item",children:Object(S.jsx)(o.c,{className:function(e){var t=e.isActive;return A({isActive:t})},to:"/phones",children:"Phones"})}),Object(S.jsx)("li",{className:"nav__item",children:Object(S.jsx)(o.c,{className:function(e){var t=e.isActive;return A({isActive:t})},to:"/tablets",children:"Tablets"})}),Object(S.jsx)("li",{className:"nav__item",children:Object(S.jsx)(o.c,{className:function(e){var t=e.isActive;return A({isActive:t})},to:"/accessories",children:"Accessories"})})]})}),Object(S.jsxs)("section",{className:"header__header-bar",children:[Object(S.jsxs)("form",{className:"header__search",onSubmit:function(e){return e.preventDefault()},style:"/phones"===a.pathname||"/tablets"===a.pathname||"/accessories"===a.pathname||"/favorites"===a.pathname?{visibility:"visible"}:{visibility:"hidden"},children:[Object(S.jsx)("input",{type:"search",placeholder:"Search in ".concat(c,"..."),className:"header__search--bar",onChange:function(e){return t(e.target.value)}}),s.length>0&&Object(S.jsx)("button",{type:"submit",className:"header__search--button cancel-search",onClick:function(){return t("")},"data-cy":"searchDelete"}),Object(S.jsx)("button",{type:"submit",className:"header__search--button search-products"})]}),Object(S.jsx)(o.c,{to:"/favorites",className:function(e){var t=e.isActive;return"header__favorites ".concat(P({isActive:t}))},style:r(),children:h.length>0&&Object(S.jsx)("p",{className:"shopping-icon__amount",children:h.length})}),Object(S.jsx)(o.c,{to:"/shopping-cart",className:function(e){var t=e.isActive;return"header__shopping-cart ".concat(P({isActive:t}))},children:b.length>0&&Object(S.jsx)("p",{className:"shopping-icon__amount",children:b.length})})]})]})]})},R=function(){return Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4714 3.52861C10.211 3.26826 9.7889 3.26826 9.52855 3.52861L5.52855 7.52861C5.26821 7.78896 5.26821 8.21107 5.52855 8.47141L9.52855 12.4714C9.7889 12.7318 10.211 12.7318 10.4714 12.4714C10.7317 12.2111 10.7317 11.789 10.4714 11.5286L6.94277 8.00001L10.4714 4.47141C10.7317 4.21107 10.7317 3.78896 10.4714 3.52861Z",fill:"#B4BDC4"})})},k=function(){return Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.52876 3.52861C5.78911 3.26826 6.21122 3.26826 6.47157 3.52861L10.4716 7.52861C10.7319 7.78896 10.7319 8.21107 10.4716 8.47141L6.47157 12.4714C6.21122 12.7318 5.78911 12.7318 5.52876 12.4714C5.26841 12.2111 5.26841 11.789 5.52876 11.5286L9.05735 8.00001L5.52876 4.47141C5.26841 4.21107 5.26841 3.78896 5.52876 3.52861Z",fill:"#B4BDC4"})})},L=function(){return Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4715 5.52864C12.7318 5.78899 12.7318 6.2111 12.4715 6.47145L8.47149 10.4714C8.21114 10.7318 7.78903 10.7318 7.52868 10.4714L3.52868 6.47144C3.26833 6.2111 3.26833 5.78899 3.52868 5.52864C3.78903 5.26829 4.21114 5.26829 4.47149 5.52864L8.00008 9.05723L11.5287 5.52864C11.789 5.26829 12.2111 5.26829 12.4715 5.52864Z",fill:"#B4BDC4"})})},T=function(){return Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.52876 10.4714C3.26841 10.211 3.26841 9.7889 3.52876 9.52855L7.52876 5.52856C7.78911 5.26821 8.21122 5.26821 8.47157 5.52856L12.4716 9.52856C12.7319 9.78891 12.7319 10.211 12.4716 10.4714C12.2112 10.7317 11.7891 10.7317 11.5288 10.4714L8.00016 6.94277L4.47157 10.4714C4.21122 10.7317 3.78911 10.7317 3.52876 10.4714Z",fill:"#B4BDC4"})})},I=function(){return Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.59075 0.807088C7.83149 0.619846 8.16859 0.619846 8.40933 0.807088L14.4093 5.47375C14.5717 5.60006 14.6667 5.79426 14.6667 5.99999V13.3333C14.6667 13.8638 14.456 14.3725 14.0809 14.7475C13.7058 15.1226 13.1971 15.3333 12.6667 15.3333H3.33337C2.80294 15.3333 2.29423 15.1226 1.91916 14.7475C1.54409 14.3725 1.33337 13.8638 1.33337 13.3333V5.99999C1.33337 5.79426 1.42836 5.60006 1.59075 5.47375L7.59075 0.807088ZM2.66671 6.32605V13.3333C2.66671 13.5101 2.73695 13.6797 2.86197 13.8047C2.98699 13.9298 3.15656 14 3.33337 14H12.6667C12.8435 14 13.0131 13.9298 13.1381 13.8047C13.2631 13.6797 13.3334 13.5101 13.3334 13.3333V6.32605L8.00004 2.1779L2.66671 6.32605Z",fill:"#313237"}),Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.33337 8.00001C5.33337 7.63182 5.63185 7.33334 6.00004 7.33334H10C10.3682 7.33334 10.6667 7.63182 10.6667 8.00001V14.6667C10.6667 15.0349 10.3682 15.3333 10 15.3333C9.63185 15.3333 9.33337 15.0349 9.33337 14.6667V8.66668H6.66671V14.6667C6.66671 15.0349 6.36823 15.3333 6.00004 15.3333C5.63185 15.3333 5.33337 15.0349 5.33337 14.6667V8.00001Z",fill:"#313237"})]})},M=function(){return Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.62852 1.63137C10.1584 1.4118 10.7264 1.29878 11.3 1.29878C11.8737 1.29878 12.4416 1.4118 12.9716 1.63137C13.5015 1.85094 13.983 2.17277 14.3885 2.57847C14.7941 2.98394 15.1158 3.46532 15.3353 3.99514C15.5549 4.52506 15.6679 5.09305 15.6679 5.66667C15.6679 6.24028 15.5549 6.80827 15.3353 7.33819C15.1158 7.86806 14.794 8.34949 14.3884 8.75497C14.3883 8.75501 14.3884 8.75493 14.3884 8.75497L8.49502 14.6483C8.22165 14.9217 7.77844 14.9217 7.50507 14.6483L1.61174 8.75497C0.792668 7.9359 0.33252 6.82501 0.33252 5.66667C0.33252 4.50833 0.792668 3.39743 1.61174 2.57836C2.43081 1.75929 3.54171 1.29914 4.70005 1.29914C5.85839 1.29914 6.96928 1.75929 7.78835 2.57836L8.00005 2.79005L8.21162 2.57847C8.21158 2.57851 8.21166 2.57844 8.21162 2.57847C8.61711 2.17283 9.09865 1.85092 9.62852 1.63137ZM13.3983 3.56819C13.1228 3.29256 12.7957 3.07392 12.4357 2.92474C12.0756 2.77556 11.6898 2.69878 11.3 2.69878C10.9103 2.69878 10.5245 2.77556 10.1644 2.92474C9.80441 3.07392 9.4773 3.29256 9.2018 3.56819L8.49502 4.27497C8.22165 4.54834 7.77844 4.54834 7.50507 4.27497L6.7984 3.56831C6.24189 3.01179 5.48708 2.69914 4.70005 2.69914C3.91301 2.69914 3.15821 3.01179 2.60169 3.56831C2.04517 4.12483 1.73252 4.87963 1.73252 5.66667C1.73252 6.4537 2.04517 7.20851 2.60169 7.76502L8.00005 13.1634L13.3984 7.76502C13.674 7.48953 13.8928 7.16231 14.042 6.80228C14.1911 6.44226 14.2679 6.05637 14.2679 5.66667C14.2679 5.27696 14.1911 4.89107 14.042 4.53105C13.8928 4.17103 13.6739 3.84369 13.3983 3.56819Z",fill:"#333333"})})},B=function(){return Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3 1.29878C10.7264 1.29878 10.1584 1.4118 9.62852 1.63137C9.09865 1.85092 8.61711 2.17283 8.21162 2.57847L8.00005 2.79005L7.78835 2.57836C6.96928 1.75929 5.85839 1.29914 4.70005 1.29914C3.54171 1.29914 2.43081 1.75929 1.61174 2.57836C0.792668 3.39743 0.33252 4.50833 0.33252 5.66667C0.33252 6.82501 0.792668 7.9359 1.61174 8.75497L7.50507 14.6483C7.77844 14.9217 8.22165 14.9217 8.49502 14.6483L14.3884 8.75497C14.794 8.34949 15.1158 7.86806 15.3353 7.33819C15.5549 6.80827 15.6679 6.24028 15.6679 5.66667C15.6679 5.09305 15.5549 4.52506 15.3353 3.99514C15.1158 3.46532 14.7941 2.98394 14.3885 2.57847C13.983 2.17277 13.5015 1.85094 12.9716 1.63137C12.4416 1.4118 11.8737 1.29878 11.3 1.29878Z",fill:"#EB5757"})})},V=function(){return Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4716 4.4714C12.7319 4.21105 12.7319 3.78894 12.4716 3.52859C12.2112 3.26824 11.7891 3.26824 11.5288 3.52859L8.00016 7.05719L4.47157 3.52859C4.21122 3.26824 3.78911 3.26824 3.52876 3.52859C3.26841 3.78894 3.26841 4.21105 3.52876 4.4714L7.05735 7.99999L3.52876 11.5286C3.26841 11.7889 3.26841 12.211 3.52876 12.4714C3.78911 12.7317 4.21122 12.7317 4.47157 12.4714L8.00016 8.9428L11.5288 12.4714C11.7891 12.7317 12.2112 12.7317 12.4716 12.4714C12.7319 12.211 12.7319 11.7889 12.4716 11.5286L8.94297 7.99999L12.4716 4.4714Z",fill:"#B4BDC4"})})},F=function(e){var t=e.color;return Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.6665 7.99999C2.6665 7.63181 2.96498 7.33333 3.33317 7.33333H12.6665C13.0347 7.33333 13.3332 7.63181 13.3332 7.99999C13.3332 8.36818 13.0347 8.66666 12.6665 8.66666H3.33317C2.96498 8.66666 2.6665 8.36818 2.6665 7.99999Z",fill:t})})},Q=function(){return Object(S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:Object(S.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.6665 3.33334C8.6665 2.96515 8.36803 2.66667 7.99984 2.66667C7.63165 2.66667 7.33317 2.96515 7.33317 3.33334V7.33334H3.33317C2.96498 7.33334 2.6665 7.63182 2.6665 8.00001C2.6665 8.3682 2.96498 8.66667 3.33317 8.66667H7.33317V12.6667C7.33317 13.0349 7.63165 13.3333 7.99984 13.3333C8.36803 13.3333 8.6665 13.0349 8.6665 12.6667V8.66667H12.6665C13.0347 8.66667 13.3332 8.3682 13.3332 8.00001C13.3332 7.63182 13.0347 7.33334 12.6665 7.33334H8.6665V3.33334Z",fill:"#313237"})})},H=function(){var e=Object(u.useState)(1),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(u.useMemo)((function(){return function(e){return c===e?"#313237":"#E2E6E9"}}),[c]),a=function(){s(3===c?1:c+1)};return Object(u.useEffect)((function(){var e=setInterval(a,5e3);return function(){return clearInterval(e)}}),[c]),Object(S.jsx)("aside",{className:"banner",children:Object(S.jsxs)("div",{className:"container",children:[Object(S.jsxs)("div",{className:"wrapper",children:[Object(S.jsx)("button",{type:"button",className:"banner__slide-left slide-switcher",onClick:function(){s(1===c?3:c-1)},children:Object(S.jsx)(R,{})}),Object(S.jsx)("div",{className:"banner__phones-images",children:Object(S.jsx)("div",{className:"banner__image banner-image banner-image--".concat(c)})}),Object(S.jsx)("button",{type:"button",className:"banner__slide-right slide-switcher",onClick:function(){return a()},children:Object(S.jsx)(k,{})})]}),Object(S.jsx)("div",{className:"banner__bars",children:Object(S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"24",viewBox:"0 0 80 24",fill:"none",children:[Object(S.jsx)("rect",{x:"5",y:"10",width:"14",height:"4",fill:n(1)}),Object(S.jsx)("rect",{x:"33",y:"10",width:"14",height:"4",fill:n(2)}),Object(S.jsx)("rect",{x:"61",y:"10",width:"14",height:"4",fill:n(3)})]})})]})})},J=function(e){var t=e.title,c=e.currentIndex,s=e.setCurrentIndex,n=e.productsPerPage,a=e.filteredProducts.length-n;return Object(S.jsxs)("div",{className:"section__top-bar",children:[Object(S.jsx)("h2",{className:"section__title",children:t}),Object(S.jsxs)("div",{className:"section__buttons-container",children:[Object(S.jsx)("button",{disabled:0===c,type:"button",className:"section__button slider-button",onClick:function(){s((function(e){return e-1}))},children:Object(S.jsx)(R,{})}),Object(S.jsx)("button",{disabled:c===a,type:"button",className:"section__button slider-button",onClick:function(){s((function(e){return e+1}))},children:Object(S.jsx)(k,{})})]})]})},D=function(e,t){return 0===t?e:e+e/100*t},Z=function(e){return e!==s.ACCESSORY?"".concat(e,"s"):"accessories"},Y=function(e){var t=e.product,c=e.setVisibleProducts,s=t.capacity,a=t.discount,r=t.id,l=t.imageUrl,j=t.name,b=t.price,p=t.ram,O=t.screen,m=t.type,x=Object(u.useState)(w(r,n.FAVORITES)),f=Object(i.a)(x,2),v=f[0],_=f[1],g=Object(u.useState)(w(r,n.CART)),N=Object(i.a)(g,2),C=N[0],A=N[1];return Object(S.jsx)("article",{"data-cy":"cardsContainer",className:"browse-products__product product-card",children:Object(S.jsxs)("div",{className:"product__wrapper",children:[Object(S.jsxs)(o.b,{to:"/".concat(Z(m),"/").concat(r),children:[Object(S.jsx)("img",{className:"product-card--image",src:"".concat(l),alt:"".concat(j)}),Object(S.jsxs)("div",{className:"product-card--info",children:[Object(S.jsx)("p",{className:"product-card--name",children:j}),Object(S.jsxs)("div",{className:"product-card--price",children:[Object(S.jsx)("h3",{className:"product-card--new-price",children:"$".concat(b)}),0!==a&&Object(S.jsx)("p",{className:"product-card--old-price",children:"$".concat(D(b,a))})]})]}),Object(S.jsxs)("div",{className:"product-card--features",children:[Object(S.jsxs)("div",{className:"product-card--feature",children:[Object(S.jsx)("h4",{className:"product-card--feature-title",children:"Screen"}),Object(S.jsx)("p",{className:"product-card--feature-value",children:O||"No information"})]}),Object(S.jsxs)("div",{className:"product-card--feature",children:[Object(S.jsx)("p",{className:"product-card--feature-title",children:"Capacity"}),Object(S.jsx)("p",{className:"product-card--feature-value",children:s||"No information"})]}),Object(S.jsxs)("div",{className:"product-card--feature",children:[Object(S.jsx)("p",{className:"product-card--feature-title",children:"RAM"}),Object(S.jsx)("p",{className:"product-card--feature-value",children:p||"No information"})]})]})]}),Object(S.jsxs)("div",{className:"product-card--buttons",children:[Object(S.jsx)("button",{type:"button",className:"product-card--add-to-cart".concat(d()({"--added":C})),onClick:function(){y(r,n.CART),A(!w(r,n.CART))},children:C?"Added to cart":"Add to cart"}),Object(S.jsx)("button",{type:"button",className:"product-card--add-to-favorites",onClick:function(){return y(r,n.FAVORITES),_(!w(r,n.FAVORITES)),void(c&&c((function(e){return Object(h.a)(e).filter((function(e){return e.id!==t.id}))})))},"data-cy":"addToFavorite",children:v?Object(S.jsx)(B,{}):Object(S.jsx)(M,{})})]})]})})};Y.defaultProps={setVisibleProducts:void 0};var U,W=Y,$=function(e){return 0!==(null===e||void 0===e?void 0:e.length)&&e?1===e.length?"1 model":"".concat(e.length," models"):"No models yet"},q=function(){var e=Object(u.useState)(null),t=Object(i.a)(e,2),c=t[0],n=t[1],a=Object(u.useState)(0),r=Object(i.a)(a,2),l=r[0],j=r[1],d=Object(u.useState)(0),b=Object(i.a)(d,2),h=b[0],p=b[1];Object(u.useEffect)((function(){f().then((function(e){return n(e)}))}),[]);var O=Object(u.useMemo)((function(){return null===c||void 0===c?void 0:c.filter((function(e){return e.discount>0}))}),[c]),m=Object(u.useMemo)((function(){return null===c||void 0===c?void 0:c.filter((function(e){return 0===e.discount}))}),[c]),x=Object(u.useMemo)((function(){return null===c||void 0===c?void 0:c.filter((function(e){return e.type===s.PHONE}))}),[c]),v=Object(u.useMemo)((function(){return null===c||void 0===c?void 0:c.filter((function(e){return e.type===s.TABLET}))}),[c]),_=Object(u.useMemo)((function(){return null===c||void 0===c?void 0:c.filter((function(e){return e.type===s.ACCESSORY}))}),[c]),g=Object(u.useMemo)((function(){return null===O||void 0===O?void 0:O.slice(l,l+4)}),[O,l]),N=Object(u.useMemo)((function(){return null===m||void 0===m?void 0:m.slice(h,h+4)}),[m,h]);return Object(S.jsxs)("main",{className:"main container",children:[Object(S.jsxs)("section",{className:"section",children:[Object(S.jsx)(J,{title:"Hot prices",currentIndex:l,setCurrentIndex:j,productsPerPage:4,filteredProducts:O||[]}),Object(S.jsx)("div",{className:"browse-products",children:null===g||void 0===g?void 0:g.map((function(e){return Object(S.jsx)(W,{product:e},e.id)}))})]}),Object(S.jsxs)("section",{className:"section",children:[Object(S.jsx)("h2",{className:"section__title categories-title",children:"Shop by category"}),Object(S.jsxs)("div",{className:"categories","data-cy":"categoryLinksContainer",children:[Object(S.jsxs)("article",{className:"categories__mobile",children:[Object(S.jsx)(o.b,{to:"/phones",children:Object(S.jsx)("div",{className:"categories__mobile--photo category-photo"})}),Object(S.jsx)("h3",{className:"categories__title",children:"Mobile phones"}),Object(S.jsx)("p",{className:"categories__amount",children:$(x)})]}),Object(S.jsxs)("article",{className:"categories__tablets",children:[Object(S.jsx)(o.b,{to:"/tablets",children:Object(S.jsx)("div",{className:"categories__tablets--photo category-photo"})}),Object(S.jsx)("h3",{className:"categories__title",children:"Tablets"}),Object(S.jsx)("p",{className:"categories__amount",children:$(v)})]}),Object(S.jsxs)("article",{className:"categories__accessories",children:[Object(S.jsx)(o.b,{to:"/accessories",children:Object(S.jsx)("div",{className:"categories__accessories--photo category-photo"})}),Object(S.jsx)("h3",{className:"categories__title",children:"Accessories"}),Object(S.jsx)("p",{className:"categories__amount",children:$(_)})]})]})]}),Object(S.jsxs)("section",{className:"section",children:[Object(S.jsx)(J,{title:"Brand new models",currentIndex:h,setCurrentIndex:p,productsPerPage:4,filteredProducts:m||[]}),Object(S.jsx)("div",{className:"browse-products",children:null===N||void 0===N?void 0:N.slice(0,4).map((function(e){return Object(S.jsx)(W,{product:e},e.id)}))})]})]})},G=function(){return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(H,{}),Object(S.jsx)(q,{})]})},z=function(){return Object(S.jsx)("footer",{className:"footer",children:Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)("div",{className:"footer__content",children:[Object(S.jsx)(o.b,{to:"/",className:"footer__home-link home-link"}),Object(S.jsx)("nav",{className:"footer__nav nav",children:Object(S.jsxs)("ul",{className:"nav__list",children:[Object(S.jsx)("li",{className:"nav__item",children:Object(S.jsx)(o.c,{className:"nav__link",to:"https://github.com/vetal-hovenko/react_phone-catalog/tree/develop",target:"_blank",children:"Github"})}),Object(S.jsx)("li",{className:"nav__item",children:Object(S.jsx)(o.c,{className:"nav__link",to:"https://github.com/vetal-hovenko",target:"_blank",children:"Contacts"})}),Object(S.jsx)("li",{className:"nav__item",children:Object(S.jsx)(o.c,{className:"nav__link",to:"https://github.com/mate-academy/react_phone-catalog/tree/master",target:"_blank",children:"Rights"})})]})}),Object(S.jsxs)("div",{className:"footer__back",children:[Object(S.jsx)("p",{className:"footer__back--caption",children:"Back to top"}),Object(S.jsx)("button",{type:"button",className:"footer__back--button slider-button",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(S.jsx)(T,{})})]})]})})})};!function(e){e.NEWEST="age",e.NAME="name",e.PRICE_ASC="price-asc",e.PRICE_DESC="price-desc"}(U||(U={}));var K=function(e){var t=e.pageTitle,c=e.product,n=e.productName,a=Object(u.useMemo)((function(){return c?c.type!==s.ACCESSORY?"".concat(c.type[0].toUpperCase()+c.type.slice(1),"s"):"Accessories":t}),[c,t]),r=Object(u.useMemo)((function(){return t?t.toLowerCase():Z(null===c||void 0===c?void 0:c.type)}),[t]);return Object(S.jsxs)("aside",{className:"aside-route","data-cy":"breadCrumbs",children:[Object(S.jsx)(o.b,{to:"/",children:Object(S.jsx)(I,{})}),Object(S.jsx)(k,{}),Object(S.jsx)(o.b,{to:"/".concat(r),className:"aside-route__page-title",children:a}),n&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(k,{}),Object(S.jsx)("p",{className:"aside-route__product-name",children:n})]})]})},X=[{value:U.NEWEST,title:"Newest"},{value:U.NAME,title:"Alphabetically"},{value:U.PRICE_ASC,title:"Cheapest"},{value:U.PRICE_DESC,title:"Most expensive"}],ee=[{value:"4",title:"4"},{value:"8",title:"8"},{value:"16",title:"16"},{value:"All",title:"All"}],te=function(e){var t=e.selectSortLink,c=e.setSortQuery,s=e.setProductsPerPage,n=e.searchParam,a=e.title,r=e.sortQuery,j=e.productsLength,d=e.productsPerPage,b=Object(o.d)(),h=Object(i.a)(b,1)[0],p=Object(u.useState)(!1),O=Object(i.a)(p,2),m=O[0],x=O[1],f=Object(u.useState)(function(e){switch(e){case U.NAME:return"Alphabetically";case U.PRICE_ASC:return"Cheapest";case U.PRICE_DESC:return"Most expensive";default:case U.NEWEST:return"Newest"}}(r)),v=Object(i.a)(f,2),_=v[0],g=v[1],N=Object(u.useState)(d?d.toString():"All"),C=Object(i.a)(N,2),y=C[0],w=C[1],A=Object(l.m)(),P=function(e){var t=h;return t.has(n)?t.set(n,e):t.append(n,e),"".concat(A.pathname,"?").concat(t.toString())};return Object(S.jsxs)("div",{className:"custom-select",children:[Object(S.jsx)("p",{className:"custom-select__caption",children:a}),Object(S.jsxs)("button",{type:"button",className:"custom-select__frame",onClick:function(){return x(!m)},children:[Object(S.jsx)("p",{className:"custom-select__current-value",children:c?_:y}),Object(S.jsx)("p",{className:"custom-select__trigger",children:m?Object(S.jsx)(T,{}):Object(S.jsx)(L,{})})]}),m&&Object(S.jsx)("ul",{className:"custom-select__options",children:t.map((function(e){return Object(S.jsx)("li",{className:"custom-select__option",children:Object(S.jsx)(o.b,{to:P(e.value),className:"custom-select__option--link",onClick:function(){return function(e){c&&(c(e.value),g(e.title)),s&&j&&(s(Number(e.value)||j),w(e.value)),x(!1)}(e)},children:e.title})},e.value)}))})]})},ce=function(e){var t=e.currentPage,c=e.setCurrentPage,s=e.buttons;return Object(S.jsxs)("div",{className:"section-catalog__pagination","data-cy":"pagination",children:[Object(S.jsx)("button",{className:"slider-button",type:"button",disabled:1===t,onClick:function(){return c(t-1)},"data-cy":"paginationLeft",children:Object(S.jsx)(R,{})}),Object(S.jsx)("div",{className:"section-catalog__pagination--wrapper",children:s.map((function(e){return Object(S.jsx)("button",{type:"button",onClick:function(){return c(e)},className:"page-button".concat(d()({" button-is-active":t===e})),children:e},e)}))}),Object(S.jsx)("button",{className:"slider-button",type:"button",disabled:t===s.length,onClick:function(){return c(t+1)},"data-cy":"paginationRight",children:Object(S.jsx)(k,{})})]})},se=function(){return Object(S.jsx)("main",{className:"no-search-results",children:Object(S.jsx)("h3",{style:{marginTop:"50px"},children:"No products match your search criteria."})})},ne=U.NEWEST,ae=U.NAME,re=U.PRICE_ASC,ie=U.PRICE_DESC,oe=function(e){var t=e.products,c=e.title,s=Object(o.d)(),n=Object(i.a)(s,2),a=n[0],r=n[1],l=a.get("items-per-page"),j=a.get("sort"),d=a.get("page"),b=Object(u.useState)(l?+l:t.length),p=Object(i.a)(b,2),O=p[0],m=p[1],x=Object(u.useState)(d?+d:1),f=Object(i.a)(x,2),v=f[0],_=f[1],g=Object(u.useState)(j||ne),N=Object(i.a)(g,2),C=N[0],y=N[1],w=Object(u.useMemo)((function(){return 1===v?0:(v-1)*O}),[v,O]),A=Object(u.useMemo)((function(){return Object(h.a)(t).sort((function(e,t){switch(C){case ne:return e[C]-t[C];case ae:return e.name.localeCompare(t.name);case re:return e.price-t.price;case ie:return t.price-e.price;default:return 0}})).slice(w,w+(O||-1))}),[C,t,v,O]),P=Object(u.useMemo)((function(){var e=Math.ceil(t.length/O);return Array.from({length:e},(function(e,t){return t+1}))}),[t,O]);return Object(u.useEffect)((function(){window.scrollTo(0,0);var e=new URLSearchParams(a);e.set("page",v.toString()),r(e)}),[v]),Object(S.jsxs)("main",{className:"main-catalog container","data-cy":"productList",children:[t.length>0&&Object(S.jsx)(K,{product:t[0]}),Object(S.jsxs)("section",{className:"section-catalog",children:[Object(S.jsx)("h1",{className:"section-catalog__title",children:c}),A.length>0?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("p",{className:"section-catalog__caption",children:"".concat(t.length," models")}),Object(S.jsxs)("div",{className:"section-catalog__items-displaying",children:[Object(S.jsx)(te,{title:"Sort by",searchParam:"sort",selectSortLink:X,setSortQuery:y,sortQuery:C}),Object(S.jsx)(te,{title:"Items on page",searchParam:"items-per-page",selectSortLink:ee,setProductsPerPage:m,sortQuery:C,productsLength:t.length,productsPerPage:O})]}),Object(S.jsx)("div",{className:"section-catalog__products catalog",children:A.map((function(e){return Object(S.jsx)(W,{product:e},e.id)}))}),P.length>1&&Object(S.jsx)(ce,{currentPage:v,setCurrentPage:_,buttons:P})]}):Object(S.jsx)(se,{})]})]})},le=function(){var e=Object(l.o)();return Object(S.jsxs)("div",{className:"go-back",children:[Object(S.jsx)(R,{}),Object(S.jsx)("button",{type:"button",className:"go-back__button",onClick:function(){return e(-1)},"data-cy":"backButton",children:"Back"})]})},ue=function(e){var t=e.title;return Object(S.jsxs)("main",{className:"not-found",children:[Object(S.jsx)("h1",{className:"no-products-title",children:"".concat(t," are not available yet.")}),Object(S.jsx)(le,{})]})},je=function(e,t){return e.filter((function(e){return e.name.toLowerCase().replace(/\s+/,"").includes(t.toLowerCase().replace(/\s+/,""))}))},de=function(){return Object(S.jsx)("div",{className:"scene",children:Object(S.jsx)("div",{className:"cube-wrapper",children:Object(S.jsx)("div",{className:"cube",children:Object(S.jsxs)("div",{className:"cube-faces",children:[Object(S.jsx)("div",{className:"cube-face shadow"}),Object(S.jsx)("div",{className:"cube-face top"}),Object(S.jsx)("div",{className:"cube-face front"}),Object(S.jsx)("div",{className:"cube-face back"}),Object(S.jsx)("div",{className:"cube-face right"}),Object(S.jsx)("div",{className:"cube-face left"})]})})})})},be=function(e){var t=e.searchQuery,c=e.setCurrentProduct,n=Object(u.useState)([]),a=Object(i.a)(n,2),r=a[0],o=a[1],l="Mobile phones",j=Object(u.useState)(!0),d=Object(i.a)(j,2),b=d[0],h=d[1];Object(u.useEffect)((function(){_(s.PHONE).then((function(e){return o(e)})).finally((function(){return h(!1)})),c("phones")}),[]);var p=Object(u.useMemo)((function(){return je(r,t)}),[t,r]);return Object(S.jsxs)(S.Fragment,{children:[b&&Object(S.jsx)(de,{}),!b&&(r.length>0?Object(S.jsx)(oe,{title:l,products:p}):Object(S.jsx)(ue,{title:l}))]})},he=function(e){var t=e.searchQuery,c=e.setCurrentProduct,n=Object(u.useState)([]),a=Object(i.a)(n,2),r=a[0],o=a[1],l="Tablets",j=Object(u.useState)(!0),d=Object(i.a)(j,2),b=d[0],h=d[1];Object(u.useEffect)((function(){_(s.TABLET).then((function(e){return o(e)})).finally((function(){return h(!1)})),c("tablets")}),[]);var p=Object(u.useMemo)((function(){return je(r,t)}),[t,r]);return Object(S.jsxs)(S.Fragment,{children:[b&&Object(S.jsx)(de,{}),!b&&(r.length>0?Object(S.jsx)(oe,{title:l,products:p}):Object(S.jsx)(ue,{title:l}))]})},pe=function(e){var t=e.searchQuery,c=e.setCurrentProduct,n=Object(u.useState)([]),a=Object(i.a)(n,2),r=a[0],o=a[1],l="Accessories",j=Object(u.useState)(!0),d=Object(i.a)(j,2),b=d[0],h=d[1];Object(u.useEffect)((function(){_(s.ACCESSORY).then((function(e){return o(e)})).finally((function(){return h(!1)})),c("accessories")}),[]);var p=Object(u.useMemo)((function(){return je(r,t)}),[t,r]);return Object(S.jsxs)(S.Fragment,{children:[b&&Object(S.jsx)(de,{}),!b&&(r.length>0?Object(S.jsx)(oe,{title:l,products:p}):Object(S.jsx)(ue,{title:l}))]})},Oe=function(){return Object(S.jsxs)("main",{className:"not-found",children:[Object(S.jsx)("h1",{children:"Product was not found. Please try later."}),Object(S.jsx)(le,{})]})},me=function(){var e=Object(u.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(u.useState)(0),r=Object(i.a)(a,2),o=r[0],j=r[1],d=Object(u.useState)(null),b=Object(i.a)(d,2),h=b[0],p=b[1],O=Object(u.useState)(!1),m=Object(i.a)(O,2),x=m[0],f=m[1],v=Object(u.useState)(!0),_=Object(i.a)(v,2),g=_[0],A=_[1],P=Object(l.q)().productId;Object(u.useEffect)((function(){f(!0),function(e){return N.apply(this,arguments)}(P||"").then((function(e){return p(e)})).catch((function(){A(!1),f(!1)})).finally((function(){return f(!1)}))}),[]),Object(u.useEffect)((function(){window.scrollTo(0,0),function(){return C.apply(this,arguments)}().then((function(e){return s(e)}))}),[]);var E=Object(u.useMemo)((function(){return c.find((function(e){return e.id===(null===h||void 0===h?void 0:h.id)}))}),[h]),R=Object(u.useMemo)((function(){return null===c||void 0===c?void 0:c.slice(o,o+4)}),[c,o]),k=Object(u.useState)(""),L=Object(i.a)(k,2),T=L[0],I=L[1],V=Object(u.useState)(!1),F=Object(i.a)(V,2),Q=F[0],H=F[1];Object(u.useEffect)((function(){E&&H(w(E.id,n.FAVORITES))}),[E]);var Z=g&&E&&h;return Object(S.jsxs)(S.Fragment,{children:[x&&Object(S.jsx)(de,{}),!Z&&!x&&Object(S.jsx)(Oe,{}),Z&&Object(S.jsxs)("main",{className:"main-product-page container",children:[Object(S.jsx)(K,{product:E,productName:E.name}),Object(S.jsx)(le,{}),Object(S.jsxs)("section",{className:"section-product",children:[Object(S.jsx)("h1",{className:"section-product__title",children:h.name}),Object(S.jsx)("article",{className:"section-product__images",children:Object(S.jsxs)("div",{className:"section-product__images--block",children:[Object(S.jsx)("div",{className:"section-product__images--other",children:h.images.map((function(e){return Object(S.jsx)("img",{onClick:function(){return I(e)},src:e,className:"section-product__images--small".concat(T===e?"--picked":""),alt:"img"},e)}))}),Object(S.jsx)("img",{src:T||h.images[0],className:"section-product__images--is-shown",alt:"6"})]})}),Object(S.jsxs)("article",{className:"section-product__purchase",children:[Object(S.jsxs)("div",{className:"section-product__price product-card--price",children:[Object(S.jsx)("h3",{className:"product-card--new-price",children:"$".concat(E.price)}),0!==E.discount&&Object(S.jsx)("p",{className:"product-card--old-price",children:"$".concat(D(E.price,E.discount))})]}),Object(S.jsxs)("div",{className:"section-product__buttons product-card--buttons",children:[Object(S.jsx)("button",{type:"button",className:"product-card--add-to-cart",style:{width:"263px",height:"48px"},children:"Add to cart"}),Object(S.jsx)("button",{type:"button",className:"product-card--add-to-favorites",style:{width:"48px",height:"48px"},onClick:function(){y(E.id,n.FAVORITES),H(!w(E.id,n.FAVORITES))},children:Q?Object(S.jsx)(B,{}):Object(S.jsx)(M,{})})]}),Object(S.jsxs)("div",{className:"product-card--features",children:[Object(S.jsxs)("div",{className:"product-card--feature",children:[Object(S.jsx)("h4",{className:"product-card--feature-title",children:"CPU"}),Object(S.jsx)("p",{className:"product-card--feature-value",children:h.hardware.cpu})]}),Object(S.jsxs)("div",{className:"product-card--feature",children:[Object(S.jsx)("p",{className:"product-card--feature-title",children:"Battery stand by time"}),Object(S.jsx)("p",{className:"product-card--feature-value",children:h.battery.standbyTime})]}),Object(S.jsxs)("div",{className:"product-card--feature",children:[Object(S.jsx)("p",{className:"product-card--feature-title",children:"Display"}),Object(S.jsx)("p",{className:"product-card--feature-value",children:h.display.screenResolution})]})]})]}),Object(S.jsxs)("article",{className:"section-product__description",children:[Object(S.jsx)("h3",{className:"section-product__description--title",children:"About"}),Object(S.jsx)("p",{className:"section-product__description--paragraph","data-cy":"productDescription",children:h.description})]}),Object(S.jsxs)("article",{className:"section-product__description",children:[Object(S.jsx)("h3",{className:"section-product__description--title",children:"Tech specs"}),Object(S.jsxs)("div",{className:"section-product__description--specs",children:[Object(S.jsxs)("div",{className:"section-product__description--feature",children:[Object(S.jsx)("p",{className:"section-product__description--feature--name",children:"Battery type"}),Object(S.jsx)("p",{className:"section-product__description--feature--value",children:h.battery.type})]}),Object(S.jsxs)("div",{className:"section-product__description--feature",children:[Object(S.jsx)("p",{className:"section-product__description--feature--name",children:"WiFi"}),Object(S.jsx)("p",{className:"section-product__description--feature--value",children:h.connectivity.wifi})]}),h.camera.primary&&Object(S.jsxs)("div",{className:"section-product__description--feature",children:[Object(S.jsx)("p",{className:"section-product__description--feature--name",children:"Camera"}),Object(S.jsx)("p",{className:"section-product__description--feature--value",children:h.camera.primary})]})]})]})]}),Object(S.jsxs)("section",{className:"section section-other",children:[Object(S.jsx)(J,{title:"You may also like",currentIndex:o,setCurrentIndex:j,productsPerPage:4,filteredProducts:c}),Object(S.jsx)("div",{className:"browse-products",children:null===R||void 0===R?void 0:R.map((function(e){return Object(S.jsx)(W,{product:e},e.id)}))})]})]})]})},xe=function(e){var t=e.setCurrentProduct,c=localStorage.getItem(n.FAVORITES),s=c?Object.values(JSON.parse(c)):[],a=Object(u.useState)([]),r=Object(i.a)(a,2),o=r[0],l=r[1];return Object(u.useEffect)((function(){t("favorites"),s&&l(Object(h.a)(s))}),[]),Object(S.jsxs)("main",{className:"main-catalog container",children:[Object(S.jsx)(K,{pageTitle:"Favorites"}),Object(S.jsxs)("section",{className:"section-catalog",children:[Object(S.jsx)("h1",{className:"section-catalog__title",children:"Favorites"}),Object(S.jsx)("p",{className:"section-catalog__caption",children:"".concat(null===o||void 0===o?void 0:o.length," items")}),Object(S.jsx)("div",{className:"added-items catalog",children:null===o||void 0===o?void 0:o.map((function(e){return Object(S.jsx)(W,{product:e,setVisibleProducts:l},e.id)}))})]})]})},fe=function(e){var t=e.product,c=e.setStorage,s=e.setVisibleProducts,a=e.updateProductAmount,r=t.id,l=t.name,j=t.price,d=t.imageUrl,b=t.type,p=Object(u.useState)(function(e){var t=localStorage.getItem(n.CART);return(t?JSON.parse(t)[e]:0).amount||1}(r)),O=Object(i.a)(p,2),m=O[0],x=O[1];return Object(S.jsxs)("article",{className:"cart__product",children:[Object(S.jsxs)("div",{className:"cart__product--wrapper",children:[Object(S.jsx)("button",{type:"button",className:"cart__product--close-button",onClick:function(){return c(r,n.CART),void s((function(e){return Object(h.a)(e).filter((function(e){return e.id!==r}))}))},"data-cy":"cartDeleteButton",children:Object(S.jsx)(V,{})}),Object(S.jsxs)(o.b,{to:"/".concat(Z(b),"/").concat(r),className:"cart__product--link",children:[Object(S.jsx)("img",{src:d,alt:l,className:"cart__product--photo"}),Object(S.jsx)("p",{className:"cart__product--name",children:l})]})]}),Object(S.jsxs)("div",{className:"cart__product--side-panel",children:[Object(S.jsxs)("div",{className:"cart__product--amount-control",children:[Object(S.jsx)("button",{type:"button",className:"cart__product--amount-button",onClick:function(){!function(e){var t=localStorage.getItem(n.CART),c=t?JSON.parse(t):{};c[e]&&(c[e].amount-=1,localStorage.setItem(n.CART,JSON.stringify(c)))}(r),x(m-1),a(r,m-1)},disabled:1===m,children:Object(S.jsx)(F,{color:1===m?"#E2E6E9":"#313237"})}),Object(S.jsx)("p",{className:"cart__product--products-amount","data-cy":"productQauntity",children:m}),Object(S.jsx)("button",{type:"button",className:"cart__product--amount-button",onClick:function(){!function(e){var t=localStorage.getItem(n.CART),c=t?JSON.parse(t):{};c[e]&&(c[e].amount+=1,localStorage.setItem(n.CART,JSON.stringify(c)))}(r),x(m+1),a(r,m+1)},children:Object(S.jsx)(Q,{})})]}),Object(S.jsxs)("p",{className:"cart__product--price",children:["$",j]})]})]},r)},ve=function(){var e=localStorage.getItem(n.CART),t=e?Object.values(JSON.parse(e)):[],c=Object(u.useState)([]),s=Object(i.a)(c,2),a=s[0],r=s[1],o=Object(u.useState)(!1),l=Object(i.a)(o,2),j=l[0],d=l[1];Object(u.useEffect)((function(){r(t)}),[]);var h=Object(u.useMemo)((function(){return null===a||void 0===a?void 0:a.reduce((function(e,t){return e+t.price*t.amount}),0)}),[a]),p=Object(u.useMemo)((function(){return null===a||void 0===a?void 0:a.reduce((function(e,t){return e+t.amount}),0)}),[a]),O=function(e,t){var c=a.map((function(c){return c.id===e?Object(b.a)(Object(b.a)({},c),{},{amount:t}):c}));r(c)};return Object(S.jsxs)("main",{className:"cart container",children:[Object(S.jsx)(le,{}),Object(S.jsxs)("section",{className:"section",children:[Object(S.jsx)("h1",{className:"section__title cart__title",children:"Cart"}),a.length>0?Object(S.jsxs)("div",{className:"cart__container",children:[Object(S.jsx)("div",{className:"cart__content",children:a.map((function(e){return Object(S.jsx)(fe,{product:e,setStorage:y,setVisibleProducts:r,updateProductAmount:O},e.id)}))}),Object(S.jsxs)("article",{className:"cart__purchase",children:[Object(S.jsxs)("div",{className:"cart__purchase--total",children:[Object(S.jsxs)("h2",{className:"cart__purchase--total--price",children:["$",h]}),Object(S.jsx)("p",{className:"cart__purchase--total--amount",children:1===p?"Total for 1 item":"Total for ".concat(p," items")})]}),j?Object(S.jsx)("p",{className:"feature-is-not-available",children:"We are sorry, but this feature is not implemented yet"}):Object(S.jsx)("button",{type:"button",className:"cart__purchase--checkout product-card--add-to-cart",onClick:function(){return d(!0),void setTimeout((function(){return d(!1)}),4e3)},children:"Checkout"})]})]}):Object(S.jsx)("p",{className:"cart__empty-cart-message",children:"Your cart is empty"})]})]})},_e=function(){return Object(S.jsxs)("main",{className:"not-found",children:[Object(S.jsx)("h1",{children:"This page does not exist."}),Object(S.jsx)(le,{})]})},ge=function(){var e=Object(u.useState)(""),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(u.useState)(""),a=Object(i.a)(n,2),r=a[0],j=a[1];return Object(S.jsxs)(o.a,{children:[Object(S.jsx)(E,{searchQuery:c,setSearchQuery:s,currentProduct:r}),Object(S.jsxs)(l.d,{children:[Object(S.jsx)(l.b,{path:"/",element:Object(S.jsx)(G,{})}),Object(S.jsx)(l.b,{path:"/home",element:Object(S.jsx)(l.a,{replace:!0,to:"/"})}),Object(S.jsx)(l.b,{path:"/phones",element:Object(S.jsx)(be,{searchQuery:c,setCurrentProduct:j})}),Object(S.jsx)(l.b,{path:"/tablets",element:Object(S.jsx)(he,{searchQuery:c,setCurrentProduct:j})}),Object(S.jsx)(l.b,{path:"/accessories",element:Object(S.jsx)(pe,{searchQuery:c,setCurrentProduct:j})}),Object(S.jsx)(l.b,{path:"/phones/:productId",element:Object(S.jsx)(me,{})}),Object(S.jsx)(l.b,{path:"/tablets/:productId",element:Object(S.jsx)(me,{})}),Object(S.jsx)(l.b,{path:"/accessories/:productId",element:Object(S.jsx)(me,{})}),Object(S.jsx)(l.b,{path:"/favorites",element:Object(S.jsx)(xe,{setCurrentProduct:j})}),Object(S.jsx)(l.b,{path:"/shopping-cart",element:Object(S.jsx)(ve,{})}),Object(S.jsx)(l.b,{path:"*",element:Object(S.jsx)(_e,{})})]}),Object(S.jsx)(z,{})]})};r.a.render(Object(S.jsx)(ge,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.1ab2ca7d.chunk.js.map